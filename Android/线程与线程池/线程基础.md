线程的五种状态：

![](http://static.open-open.com/lib/uploadImg/20130621/20130621204021_343.jpg)

######线程间的状态转换：
1. **新建(new)**：新创建了一个线程对象。
2. **可运行(runnable)**：线程对象创建后，其他线程(比如main线程）调用了该对象的start()方法。该状态的线程位于可运行线程池中，等待被线程调度选中，获取cpu 的使用权 。
3. **运行(running)**：可运行状态(runnable)的线程获得了cpu 时间片（timeslice） ，执行程序代码。
4. **阻塞(block)**：阻塞状态是指线程因为某种原因放弃了cpu 使用权，也即让出了cpu timeslice，暂时停止运行。直到线程进入可运行(runnable)状态，才有机会再次获得cpu timeslice 转到运行(running)状态。阻塞的情况分三种： 
 - (一). 等待阻塞：运行(running)的线程执行o.wait()方法，JVM会把该线程放入等待队列(waitting queue)中。
 - (二). 同步阻塞：运行(running)的线程在获取对象的同步锁时，若该同步锁被别的线程占用，则JVM会把该线程放入锁池(lock pool)中。
 - (三). 其他阻塞：运行(running)的线程执行Thread.sleep(long ms)或t.join()方法，或者发出了I/O请求时，JVM会把该线程置为阻塞状态。当sleep()状态超时、join()等待线程终止或者超时、或者I/O处理完毕时，线程重新转入可运行(runnable)状态。
5. **死亡(dead)**：线程run()、main() 方法执行结束，或者因异常退出了run()方法，则该线程结束生命周期。死亡的线程不可再次复生。
------
Thread中`run`和`start`的区别：
因为Thread实现了`Runnable`接口，实现了`run`方法，所以调用Thread的`run`方法时实际上是在当前线程直接执行`run`方法内部的代码，并没有开启另外的线程。
`start`是开启另外一个线程去执行，并且`run`可以重复调用，`start`不能，否则抛出异常。
例如：
```
public class Test {    
      public static void main(String[] args){        
          class MyThread extends Thread{            
                @Override            
                public void run() {                
                      System.out.println("" + Thread.currentThread().getName());            
                }        
            }        
            MyThread test = new MyThread();        
            test.run();        
            test.run();        
            test.run();       
            test.start();    
      }
}
```
结果
```
main
main
main
Thread-0
```

--------
`wait`实际上是失去或释放当前对象的锁，进入等待该对象锁的等待池中。

wait、notify、notifyAll必须放在同步代码块中，只能在取得对象锁的时候才能调用，否则会抛出异常。
notify和notifyAll的区别可以参考[这里](https://www.zhihu.com/question/37601861/answer/73456344)

**join**
当前线程等待调用join的线程执行完毕后再执行。

**yield**
主动让出线程的执行权给其他线程，其他线程能够得到优先执行就得看各个线程的状态了。

-----
**Callable<V>**
带有返回值

**Future<V>**
是一个接口，提供对Runnable和Callable的管理，例如，cancle、isCancelled、isDone等

**FutureTask<V> implements RunnableFuture<V>**

**RunnableFuture<V> extends Runnable, Future<V>**

[一个实例](http://blog.csdn.net/conquer0715/article/details/12369315)